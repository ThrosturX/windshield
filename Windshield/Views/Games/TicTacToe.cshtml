@model Windshield.Models.Games.TicTacToe.TicTacToe

	<table id="tic-tac-toe" class="table-bordered">
		<tbody>
			<tr>
				<td id="cell0"></td>
				<td id="cell1"></td>
				<td id="cell2"></td>
			</tr>
			<tr>
				<td id="cell3"></td>
				<td id="cell4"></td>
				<td id="cell5"></td>
			</tr>
			<tr>
				<td id="cell6"></td>
				<td id="cell7"></td>
				<td id="cell8"></td>
			</tr>
		</tbody>
	</table>

<script>
	$(document).ready(function () {
		var group = '@(Model.id)';
		var hub = $.connection.gameHub;
		var currentUser = '@(Context.User.Identity.Name)';
		var playerOne = '@(Model.player1.user.UserName)';
		var playerTwo = '@(Model.player2.user.UserName)';

		hub.client.cellClicked = function (cellId) {
			//$("#" + cellId).text(currentUser.symbol);
			$("#" + cellId).text('@(Model.player1.symbol)');
		};

		$.connection.hub.start().done(function() {
			hub.server.join(group);

			$("#tic-tac-toe tr td").click(function () {
				hub.server.tryAction(group, this.id, currentUser);
				$(this).text('@(Model.player1.symbol)');
			});
		});
	});

</script>